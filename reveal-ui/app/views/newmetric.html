<div class="container-fluid">
  <div class="row">
  	<div class="col-xs-12">
  		<h4 class="text-primary"><span class="glyphicon glyphicon-plus"></span> New metric definition</h4>
  		<hr/>
  		You are connected to <strong>{{db.name}}</strong> as <strong>{{db.username}}</strong>.
  		<br/>
  		<br/>
  		<div class="row">
  			<div class="col-md-12 col-lg-6">
  				<h4 class="text-primary"><span class="glyphicon glyphicon-th"></span> Select interested tables</h4>
  				<hr/>
		        <table class="table table-striped">
		          <thead>
		            <tr>
		              <th>Table Name</th>
		              <th>Select</th>
		            </tr>
		          </thead>
		          <tbody>
		            <tr ng-repeat="item in tables">
		              <td>{{item.name}}</td>
		              <td><input type="checkbox" ng-model="item.selected"></td>
		            </tr>
		          </tbody>
		        </table>
  			</div>
  			<div class="col-md-12 col-lg-6">
  				<h4 class="text-primary"><span class="glyphicon glyphicon-pencil"></span> Metric details</h4>
  				<hr/>
				<div class="form-group">
		            <label for="inputMtname">Metric Name</label>
		            <input type="text" class="form-control" id="inputMtname" placeholder="Enter metric name" ng-model="metricName">
		        </div>
				<div class="form-group">
		            <label for="inputMtDesc">Metric Description</label>
		            <textarea class="form-control" rows="2" id="inputMtDesc" ng-model="metricDesc"></textarea>
		        </div>
  			</div>
  		</div>
  		<br/>
  		<div class="row">
  			<div class="col-md-12 col-lg-6">
  				<h4 class="text-primary"><span class="glyphicon glyphicon-stats"></span> Define the key metric to monitor</h4>
  				<hr/>
				<p class="text-muted" ng-hide="isTableSelected()">Please select a table.</p>
				<div ng-show="isTableSelected()">
					<div class="row">
						<div class="col-xs-12 col-md-6">
							<div class="form-group">
					            <label for="selectKeyMetric">Key metric to monitor</label>
					            <select class="form-control" id="selectKeyMetric" ng-model="keymetric">
					              <option ng-repeat="item in fields">{{item.name}}</option>
					            </select>
					        </div>
						</div>
						<div class="col-xs-12 col-md-6">
							<div class="form-group">
					            <label for="selectAggregation">Aggregation logic</label>
					            <select class="form-control" id="selectAggregation" ng-model="aggregation">
					              <option>None</option>
					              <option>Count</option>
					              <option>Sum</option>
					              <option>Mean</option>
					            </select>
					        </div>
						</div>
					</div>
					<div class="row">
						<div class="col-xs-12 col-md-6">
							<div class="form-group">
					            <label for="selectTs">Pick timestamp field</label>
					            <select class="form-control" id="selectTs" ng-model="tsfield">
					              <option ng-repeat="item in fields">{{item.name}}</option>
					            </select>
					        </div>
						</div>
						<div class="col-xs-12 col-md-6">
							<div class="form-group">
					            <label for="inputFrequency">Metric frequency</label>
					            <input type="text" class="form-control" id="inputFrequency" ng-model="frequency" placeholder="Enter metric frequency like 10m, 1h etc.">
					        </div>
						</div>
					</div>
				</div>
  			</div>
  			<div class="col-md-12 col-lg-6">
  				<h4 class="text-primary"><span class="glyphicon glyphicon-th-list"></span> Select associated fields</h4>
  				<hr/>
				<p class="text-muted" ng-hide="isTableSelected()">Please select a table.</p>
				<div class="row" ng-show="isTableSelected()">
					<div class="col-xs-12 col-sm-6 col-md-3" ng-repeat="item in fields">
						<div class="checkbox">
						  <label>
						    <input type="checkbox" ng-model="item.associated">
						    {{item.name}}
						  </label>
						</div>
					</div>
				</div>
  			</div>
  		</div>
  		<br/>
	    <div class="row">
	    	<div class="col-xs-12">
  				<a class="btn btn-primary" ng-disabled="!isTableSelected()" href="#/metrics" ng-click="addMetric(metricName, metricDesc, keymetric, aggregation, tsfield, frequency)">Create Metric</a>
  				<a class="btn btn-danger" href="#/metrics">Cancel</a>
  			</div>
  		</div>
  	</div>
  </div>
</div>
